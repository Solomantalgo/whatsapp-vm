[supervisord]
nodaemon=true
user=root

[program:xvfb]
command=/usr/bin/Xvfb :0 -screen 0 1280x720x24
autostart=true
autorestart=true

[program:fluxbox]
command=/usr/bin/fluxbox
autostart=true
autorestart=true
environment=DISPLAY=":0"

[program:x11vnc]
command=/usr/bin/x11vnc -forever -nopw -create -display :0 -rfbport 5900 -shared
autostart=true
autorestart=true

[program:websockify]
command=/usr/bin/websockify --web=/opt/novnc --wrap-mode=ignore 0.0.0.0:8080 localhost:5900
autostart=true
autorestart=true

# Optional: auto-launch Chromium to WhatsApp Web
[program:chromium]
command=/usr/bin/chromium --no-sandbox --disable-dev-shm-usage --remote-debugging-port=9222 --start-maximized https://web.whatsapp.com
autostart=true
autorestart=true
environment=DISPLAY=":0"
